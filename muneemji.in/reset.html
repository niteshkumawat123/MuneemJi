
<style>
    .row .col{
        padding: 0!important;
    }
</style>

<!DOCTYPE html>
<html lang="en">
<head>
                    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-K2VV52M');</script>
    <!-- End Google Tag Manager -->
        <meta name="viewport" content="width=device-width, initial-scale=1">


    
    <title>Password Reset | Vyapar</title>

    <meta name="description" content="Ab Karo Apna Password reset.">
    <meta property="og:title" content="Password Reset | Vyapar"/>
    <meta property="og:image" content="https://vyaparwebsiteimages.vypcdn.in/desktop-hero-image.png"/>
    <meta property="og:image:width" content="300" />
    <meta property="og:image:height" content="300" />
    <meta property="og:site_name" content="Vyapar App"/>
    <meta property="og:description" content="Ab Karo Apna Password reset."/>

    <meta name="yandex-verification" content="5559b59e64695360" />
    <meta name="p:domain_verify" content="a4daf9a199884bb7abe56019ffc09c32"/>
    <meta charset="utf-8">
    <meta name="csrf-token" content="2BhZ9O9cKlU8cb5SxBx8gkFO97zFsIOnv3DVPRY6">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="msvalidate.01" content="CE7B00AD9AFC15DAD1D261A43F989093" />
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet prefetch" type="text/css" as="style">
    <link rel="stylesheet prefetch" as="style" href="https://vyaparwebfiles.vypcdn.in/css/intelInputCss/intlTelInput.min.css">
    <link rel="stylesheet prefetch" as="style" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
    <link rel="stylesheet prefetch" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <!-- Compiled and minified CSS -->
    

    

    <link type="text/css" href="https://vyaparapp.in/css/oldApp.css" rel="stylesheet prefetch" as="style">
    <link type="text/css" href="https://vyaparapp.in/css/paymentrevamp.css?version=0.24" rel="stylesheet prefetch" as="style">
    <link type="text/css" href="https://vyaparapp.in/css/login_panel.css?version=0.7" rel="stylesheet prefetch"  as="style">

    

    <link rel="stylesheet prefetch" href="https://vyaparwebfiles.vypcdn.in/css/layout-app/layout-app.css?v=0.1" as="style"/>
    <!--Bunch of favicons-->
    <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png?version=0.1">
    <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png?version=0.1">
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png?version=0.1">
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png?version=0.1">
    <link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png?version=0.1">
    <link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png?version=0.1">
    <link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png?version=0.1">
    <link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png?version=0.1">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png?version=0.1">
    <link rel="icon" type="image/png" sizes="192x192"  href="/favicon/android-icon-192x192.png?version=0.1">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png?version=0.1">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png?version=0.1">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png?version=0.1">
    <link rel="manifest" href="/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png?version=0.1">
    <meta name="theme-color" content="#ffffff">
    <!-- CSRF Token -->
    <meta name="csrf-token" content="2BhZ9O9cKlU8cb5SxBx8gkFO97zFsIOnv3DVPRY6">
    <!--Let browser know website is optimized for mobile-->
            
    

    <!-- Styles -->
    <link type="text/css" rel="stylesheet" href="/css/paymentStatus.css">
<link rel="stylesheet" href="https://vyaparwebfiles.vypcdn.in/css/intelInputCss/intlTelInput.min.css">
<meta name="robots" content="noindex" />
    
    
            
    
    <style>
            /* CSS overiding for the intlTelInput url('https://vyaparapp.in/images/intelTelInput/flags.png')*/
        .iti-flag {background-image: url('https://vyaparapp.in/images/intelTelInput/flags.png');}

        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
        .iti-flag {background-image: url('https://vyaparapp.in/images/intelTelInput/flags@2x.png');}
        }
        
        /*             #main-navigation{
                margin-top: 35px;
            }
         */
    </style>

<!-- Scripts -->
    <script>
        window.Laravel = {"csrfToken":"2BhZ9O9cKlU8cb5SxBx8gkFO97zFsIOnv3DVPRY6"};
    </script>
    <script>
        //    ....................................Start esktop Download Button Click performed New...................................................
        function dwnldDesktopApplication(referrerCode) {
            var link = document.createElement('a');
            let evt = document.createEvent('MouseEvents');
            if (referrerCode) {
                link.href = '/desktop/download?referrer_code=' + referrerCode;
                link.download = "VyaparApp__" + referrerCode + "_installer.exe";
            } else {
                link.href = "https://vyaparapp.in/desktop/download";
                link.download =
                    "VyaparApp.exe";
            }
            evt.initEvent('click', true, true);
            link.dispatchEvent(evt);
            $('.close.desk-dwn').click();
        };
        //    ....................................End Desktop Download Button Click performed New...................................................
    </script>
    

</head>
<body>
     <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K2VV52M"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



<div id="app" style="padding-top:64px;">
                                                                            <div align="center" class="download-nav" style="background: #F2F2F2;color: #1D3843;height: 35px;top: 0;position: fixed;width: 100%;padding-top: 9px;z-index: 2;"></div>
                                        <nav id="main-navigation">
                        <div class="nav-wrapper">
                            <div class="container" style="width:90%;">
                                <div class="fixed-nav">
                                    
                                    
                                    
                                    <a href="https://vyaparapp.in" class="brand-logo" >
                                        
                                        <img src="http://154.61.75.70/MuneemJiLogo.png" width="170" height="38" title="MuneemJI Logo" alt="MuneemJI Logo- Free GST Billing & Invoicing Software for Businesses">
                                    </a>
                                    
                                    <a href="javascript:;" data-activates="mobile-demo" class="button-collapse"><i class="fa fa-bars" style="font-size:20px"></i></a>
                                    
                                    <ul id="nav-mobile" class="right hide-on-med-and-down">
                                        <li><a onclick="" href="/index.htm">Home</a></li>
                                         <!--                            <li><a href="#">Blog</a></li>-->

                                        
                                      
                                        <li><a onclick="" href="/gst-billing-app.htm">About Us</a></li>
                                        <li><a onclick="" href="/gst-accounting-pc.htm">Desktop</a></li>
                                        
                                        

                                                                                    <li><a href="/create.htm">Partner with us</a></li>
                                        
                                        <!-- Authentication Links -->
                                                                                    <li><a href="/index.htm">Login</a></li>
                                            
                                        
                                </div>
                                
                                <ul class="side-nav" id="mobile-demo">
                                                                             <li><a href="/index.htm">Login</a></li>
                                                                        <li><a href="https://vyaparapp.in">Home</a></li>
                                   
                                    <li><a onclick="" href="/gst-billing-app.htm">About Us</a></li>
                                    <li><a href="/gst-accounting-pc.htm">Desktop</a></li>
                                    

                                                                                    <li><a href="/create.htm">Partner with us</a></li>
                                        
                                                                        

                                </ul>
                                
                                <ul class="nav navbar-nav navbar-right">

                                </ul>
                            </div>
                        </div>
                    </nav>
                            


            <div class="main-content">

                <div class="container"  style="padding-top:30px">
    <div class="forgot-pass-wrapper">
        <div class="row">
            <div class="panel panel-default">
                <div class="panel-header row"> Reset Password </div>
                <div class="panel-body">
                    <div id="message" class="row"  hidden >
                        
                    </div>
                    <div id="email-otp-div" class="row" >
                        <form class="col s12" id="form" role="form" method="POST" action="https://vyaparapp.in/password/email">
                            <input type="hidden" name="_token" value="2BhZ9O9cKlU8cb5SxBx8gkFO97zFsIOnv3DVPRY6">
                            <input type="hidden" name="country_code" id="country_code" value="">
                            <p>Reset Password Via :</p>

                            <input type="radio" name="resetVia" id="viaEmail" value="email" onclick="handleRadioClick(this);" checked />
                            <label for="viaEmail" id="email-label">Email</label>

                            <input type="radio" name="resetVia" id="viaMobile" value="mobile" onclick="handleRadioClick(this);" />
                            <label for="viaMobile">Mobile Number</label>

                            <br>
                            <br>

                            <div id="email-input-div" style="display:block" class="input-field s12">

                                <input id="email" type="email" class="form-control" name="email" value="" required>
                                                                <label for="email" class="col-md-4 control-label">E-Mail Address</label>
                            </div>


                            <div id="mobile-input-div" style="display:none" class="input-field s12">

                                <input type="tel" oninput="this.value = this.value.replace(/[^0-9+]/g, '').replace(/(\..*)\./g, '$1');" maxlength="15" class="form-control" id="mobile" name="mobile" placeholder="Enter Phone">

                                                            </div>
                            <strong><p class="col error-block-para-first" style="display: none; color: red; font-size: 14px;"></p></strong>
                            <div class="form-group">
                                <div class="col-md-6 col-md-offset-4">
                                    <button type="submit" class="btn waves-effect waves-light">
                                        Send Password Reset OTP
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="verify-otp-div" class="row"  hidden >
                        <form id="verify-otp" class="form-horizontal" role="form" method="POST" action="https://vyaparapp.in/reset/otp/verify">
                            <input type="hidden" name="_token" value="2BhZ9O9cKlU8cb5SxBx8gkFO97zFsIOnv3DVPRY6">

                            <input type="hidden" name="email_phone" id="email_phone" value="">
                            <input type="hidden" name="reset_via" id="reset_via" value="">
                            <input type="hidden" name="calling_code" id="calling_code" value="">

                            <div class="form-group">
                                <label for="otp" class="col-md-4 control-label">Your OTP</label>
                                <div class="col-md-6">
                                    <input id="otp" type="number" class="form-control " step="any" name="otp" value=""  required autofocus>
                                </div>
                                <strong><p class="error-block-para" style="display: none; color: red; font-size: 14px;"></p></strong>
                            </div>
                            <div class="form-group">
                                <label for="password" class="col-md-4 control-label">New Password</label>
                                <div class="col-md-6">
                                    <input id="password" type="password" class="form-control" name="password" required>
                                </div>
                                <strong><p class="password-error-block-para" style="display: none; color: red; font-size: 14px;"></p></strong>
                            </div>
                            <div class="form-group">
                                <label for="password-confirm" class="col-md-4 control-label">Confirm Password</label>
                                <div class="col-md-6">
                                    <input id="password-confirm" type="password" class="form-control" name="password_confirmation" required>
                                </div>
                                <strong><p class="password-confirmation-error-block-para" style="display: none; color: red; font-size: 14px;"></p></strong>
                            </div>
                            <div class="form-group">
                                <div class="col-md-6 col-md-offset-4">
                                    <button type="submit" class="btn waves-effect waves-light">
                                        Verify OTP
                                    </button>
                                    <button type="button" id="resendOTP" class="btn waves-effect waves-light">
                                        Resend OTP
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- Error Modal -->
                    <div id="error-modal" class="modal">
                        <div class="modal-content">
                            <h4 id="error-modal-heading" style="color: red"></h4>
                            <p id="error-modal-description" style="color: #ea6868"></p>
                        </div>
                        <div class="modal-footer">
                            <a id="error-modal-close-anchor-tag" href="/home" class="modal-close waves-effect waves-green btn-flat">Close</a>
                        </div>
                    </div>
                    
                    <div id="success-modal" class="modal">
                        <div class="modal-content">
                            <h4 id="success-modal-heading" style="color: rgb(5, 179, 5)"></h4>
                            <p id="success-modal-description" style="color: rgb(110, 143, 110)"></p>
                        </div>
                        <div class="modal-footer">
                            <a id="success-modal-close-anchor-tag" href="/home" class="modal-close waves-effect waves-green btn-flat">Close</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>

                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </div></div>
                    <footer>
                <div class="container">
                    <div class="row footer-links" style="border-bottom:0" >
                        
                        <div class="col s6 l2">
                            <ul>
                                <li class="footer-header">Let us help you</li>
                                <li><a rel="" href="/gst-billing-app.htm">Contact Us</a></li>
                                <li><a rel="" href="/index.htm">Your Account</a></li>
                                <li><a rel="" href="/create.htm">Partnership / Distributorship</a></li>

                                
                            </ul>
                        </div>
                    
                       
                    </div>
                    <div class="row" style="border-bottom:  1px solid #bdbdbd;">
                            <div class="col l4 m12 s12" style="padding:0.5rem 0 0.5rem 1rem;" >
                            GST Registration Number : 08AADCO3917E1ZL
                            </div>
                            <div class="col l4 m12 s12" style="padding:0.5rem 0 0 1rem;">
                            Udyam Registration Number : UDYAM-RJ-17-0086335
                            </div>
                        </div>
                    <div class="copyright center">
                        <span>Simply MuneemJI Pvt Ltd<sup>TM</sup></span>
                    </div>
                </div>
            </footer>
                <div class="spinner" id="spinner" hidden>
            <div class="sk-fading-circle">
                <div class="sk-circle1 sk-circle"></div>
                <div class="sk-circle2 sk-circle"></div>
                <div class="sk-circle3 sk-circle"></div>
                <div class="sk-circle4 sk-circle"></div>
                <div class="sk-circle5 sk-circle"></div>
                <div class="sk-circle6 sk-circle"></div>
                <div class="sk-circle7 sk-circle"></div>
                <div class="sk-circle8 sk-circle"></div>
                <div class="sk-circle9 sk-circle"></div>
                <div class="sk-circle10 sk-circle"></div>
                <div class="sk-circle11 sk-circle"></div>
                <div class="sk-circle12 sk-circle"></div>
            </div>
        </div>

</div>
<div id="desktop_dwnld" class="modal">
    <div class="modal-content">
        <p style="font-size: 24px;color: #097788;" class="center">Welcome to Vyapar Desktop Version</p>
        <p style="font-size: 20px;color: #097788;" class="center">Please fill the details below</p>
        <form id="dwnld-form">

            <input type="hidden" name="_token" value="2BhZ9O9cKlU8cb5SxBx8gkFO97zFsIOnv3DVPRY6">
            <input type="hidden" value="" name="country" id="country">
            <input type="hidden" value="" name="city" id="city">
            <input type="hidden" value="" name="region" id="region">
            <div class="row" id="user_input" style="margin-top: 10px;margin-bottom: 10px;">
                
                
                
                
            </div>
            <div class="row">
                <div class="col s10 offset-s1">
                    <p class="center" style="color: #989898;margin-bottom: 10px;margin-top: 10px;"><i class="material-icons"  style="color: #097788; text-shadow: 0 2px 4px rgba(0,0,0,0.3);margin-right: 4px;vertical-align: middle;font-size: 22px">security</i><span>Your data is safe with us. It is only to make your experience with Vyapar better.</span></p>
                </div>
            </div>
            <p class="input-field center">
                <button id="dwnld-form_subBtn" type="submit" style="margin:auto;" class="waves-effect waves-light btn"><i class="material-icons right">arrow_downward</i>Continue Download</button>
            </p>
        </form>
    </div>
</div>
<div id="mobile_dwnld" class="modal"  style="width: 40%;">
    <div class="modal-content">
        <p style="font-size: 24px;color: #097788;" class="center">Welcome to Vyapar Mobile Version</p>
        <p style="font-size: 20px;color: #097788;" class="center">Please fill the details below to receive download link via SMS</p>
        <form id="dwnld-form-mobile">

            <input type="hidden" name="_token" value="2BhZ9O9cKlU8cb5SxBx8gkFO97zFsIOnv3DVPRY6">

            <div class="row" id="mobile_link" style="margin-top: 20px;margin-bottom: 10px;">
                <div class="input-field col s6 offset-s3">
                <input placeholder="Enter your number" id="mobile_number" name="phone" type="text" class="validate">
                <label for="mobile_number">Phone Number (For India Users)</label>
                </div>
            </div>
            <div class="row">
                <div class="col s10 offset-s1">
                    <p class="center" style="color: #989898;margin-bottom: 10px;margin-top: 10px;"><i class="material-icons"  style="color: #097788; text-shadow: 0 2px 4px rgba(0,0,0,0.3);margin-right: 4px;vertical-align: middle;font-size: 22px">security</i><span>Your data is safe with us. It is only to make your experience with Vyapar better.</span></p>
                </div>
            </div>
            <p class="input-field center">
                <button id="dwnld-form_subBtn-mobile" type="submit"  style="margin:auto;" class="waves-effect waves-light btn"><i class="material-icons right">arrow_downward</i>SMS Link</button>
            </p>
        </form>
    </div>
</div>
<div class="row" style="display: flex; justify-content: center;">
    <div id="desktop-dwnld-confirm" class="modal col s10 m6 l4">
        <div class="modal-content">
            <h4>Desktop Download</h4>
            <p>Do you want to download vyapar desktop application ? </p>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="modal-close waves-effect waves-green btn-flat">No</a>
            <a class="dwnld-desktop-application modal-close waves-effect waves-green btn-flat" href="javascript:;" onclick="dwnldDesktopApplication()">Yes</a>
        </div>
    </div>
</div>

<!-- Scripts -->

<!-- Compiled and minified JavaScript -->

<script src="https://vyaparwebfiles.vypcdn.in/js/jquery-3.1.1.min.js"></script>
    <script>
    //        var x = document.getElementById("demo");
    var lat;
    var long;
    var map;var param = {"considerIp": "true"};
    var locationDetails = {};

    $.ajax({
        url:"https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyCmWhKJp5z6mIy7H4oxNO2OnG9manCl578",
        type:"POST",
        data : JSON.stringify(param),
        contentType: "application/json; charset=utf-8",
        success: function(success){
            lat =  success.location.lat;
            long=  success.location.lng;
            lab_fun(lat,long);
        },
        error: function(XMLHttpRequest, textStatus, errorThrown) {
            console.log("Status: " + textStatus); console.log("Error: " + errorThrown);
        }
    });
    function lab_fun(lat,long) {
        $.getJSON('https://maps.googleapis.com/maps/api/geocode/json?latlng='+lat+','+long+'&key=AIzaSyCmWhKJp5z6mIy7H4oxNO2OnG9manCl578', function(data) {
            try {
                var results = data.results[0].address_components;
                results.forEach(function (result) {
                    locationDetails[result.types[0]] = result.short_name;
                });
            } catch (error) {
                locationDetails['country'] = 'IN';
                try {
                    if(data['status'] != "ZERO_RESULTS"){
                        locationDetails['error'] = "Error in location getting. In getcountry.blade page";
                        locationDetails['errorObject'] = error;
                        locationDetails['data'] = data;
                    }
                }
                catch (e) {
                    locationDetails['error'] = e;
                }
            }
//            console.log(locationDetails);
            $.ajax({
                url:"https://vyaparapp.in/set/session/countryLocation",
                type:"GET",
                data : locationDetails,
                success: function(success){
                    console.log(success);
                    $('#loader').hide();
                },
                error: function() {
                    $('#loader').hide();
                },
                beforeSend: function() {
                    $('#loader').show();
                }
            });
        });
    }

</script>


<script type="text/javascript" src="https://vyaparwebfiles.vypcdn.in/js/materialize.min.js"></script>
<script type="text/javascript">



    var currentDeviceType = "desktop";
    var checkDevice = () => {
        if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)
            || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))) {
            currentDeviceType = "mobile";
        } else {
            currentDeviceType = "desktop";
        }
    };
    // Check wether browser support service worker or not
    // if('serviceWorker' in navigator) {
    //     window.addEventListener('load', () => {
    //         // Registers the service-worker.js file
    //         navigator.serviceWorker.register('service-worker.js')
    //         // navigator.serviceWorker.register(...) returns a promise that resolves with a registration object once the service worker is successfully registered. If the registration fails, the promise will reject.
    //             .then(registration => {
    //                 console.log('Service Worker is registered', registration.scope);
    //             })
    //             .catch(err => {
    //                 console.error('Registration failed:', err);
    //             });
    //     });
    // }



    var nav_current_url = 'http://vyaparapp.in/password/reset';
    //-------------------------------------------------------DESKTOP DOWNLOAD SCRIPT START--------------------------------------------------------------
    $(document).ready(function () {
        checkDevice();
        $('#user_input').html('<div class="input-field col s8 offset-s2">\n' +
            '                        <input id="user_contact" type="tel" name="user_contact" value="" class="validate" required>\n' +
            '                        <label for="user_contact">Phone Number<span class="red-text text-lighten-2">*</span></label>\n' +
            '                    </div>\n' +
            '                    <div class="input-field col s8 offset-s2">\n' +
            '                        <input id="pin_code" onkeydown="pin(event)" value="" name="pin_code" type="text"  class="validate" onchange="try{setCustomValidity(\'\')}catch(e){}" oninvalid="setCustomValidity(\'Please Enter Valid Pin code.\')">\n' +
            '                        <label for="pin_code">Pin Code (Postal Code)<span class="red-text text-lighten-2">*</span></label>\n' +
            '                    </div>');
        //
        try{
            $.getJSON('https://ipinfo.io/json', function(data) {
                // debugger;
                if(data.country != "IN"){
                    $('#user_input').html('<div class="input-field col s8 offset-s2">\n' +
                        '                        <input id="user_contact" type="email" name="user_contact" value="" class="validate" required>\n' +
                        '                        <label for="user_contact">Email <span class="red-text text-lighten-2">*</span></label>\n' +
                        '                    </div>');
                }
                $('#country').val(data.country);
                $('#region').val(data.region);
                $('#city').val(data.city);
            });
        }
        catch (e) {
            console.log(e);
        }

    });
    $('#mobile_dwnld').submit(function (e) {
        e.preventDefault();
        $("#dwnld-form_subBtn-mobile").addClass('disabled');
        var url = 'https://vyaparapp.in/mobile/download';
        if($("#mobile_number").val().length != 0) {
            $.ajax({
                type: "POST",
                url: url,
                data: $("#dwnld-form-mobile").serialize(),
                success: function(response) {
                    $('#mobile_dwnld').modal('close');
                    $("#dwnld-form_subBtn-mobile").removeClass('disabled');

                },
                error: function () {
                    $("#dwnld-form_subBtn-mobile").removeClass('disabled');
                }
            });
        }


    });



    function isNumberKey(event){
        if ((event.keyCode == 46 || event.keyCode == 8) )
        {
            //do nothing
        }
        else
        {
            if ( (event.keyCode < 48 || event.keyCode > 57) || (event.target.value).length > 15 )
            {
                event.preventDefault();
            }
        }
    }


    //------------------------------------ Desktop Download script END---------------------------------------------------------


    $(".spinner").hide();
    $(".modal").modal();
    $(".button-collapse").sideNav();
    (function($) {
        $(function() {

            $('.dropdown-button').dropdown({
                    inDuration: 300,
                    outDuration: 225,
                    hover: true, // Activate on hover
                    belowOrigin: true, // Displays dropdown below the button
                    alignment: 'right', // Displays dropdown with edge aligned to the left of button
                    gutter: -20
                }
            );
            $('.fixed-nav ul li a[href="'+nav_current_url+'"]').closest('li').addClass('active');
        }); // End Document Ready
    })(jQuery); // End of jQuery name space

    $('#gst_form').submit(function(event){
        event.preventDefault();
        $("#spinner").show();
        $.ajax({
            url: $('#gst_form').attr('action'),
            type: "POST",
            data : $('#gst_form').serialize(),
            success: function(data){
                $("#spinner").hide();
                console.log("Your query has been submitted. We will reply you shortly.");
//                    console.log(data);
                $(".modal").modal('close');
                $('#gst_form')[0].reset();
            },
            error: function (xhr, ajaxOptions, thrownError) {
                $("#spinner").hide();
                console.log(xhr.responseText);
            }
        });
        return false;
    });

    /* function replaceDesktopDownloadText(){
        if (navigator.userAgent.indexOf('Mac OS X') != -1) {
            $('.download-text-desktop').text('Download for MacBook');
        } else {
            $('.download-text-desktop').text('Download for Desktop');
        }
    }
    replaceDesktopDownloadText(); */


</script>
<script>
    $(function() {
        var t = {
            Android: function() {
                return navigator.userAgent.match(/Android/i);
            },
            BlackBerry: function() {
                return navigator.userAgent.match(/BlackBerry/i);
            },
            iOS: function() {
                return navigator.userAgent.match(/iPhone|iPad|iPod/i);
            },
            Opera: function() {
                return navigator.userAgent.match(/Opera Mini/i);
            },
            Windows: function() {
                return (navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i));
            },
            any: function() {
                return (t.Android() || t.BlackBerry() || t.iOS() || t.Opera() || t.Windows());
            },
        };
        t.any() ? $('.download-nav').each(function() {
                $('.download-nav').html('<span class="trial-alert">Get our free Android app <a target="_blank" href="https://play.google.com/store/apps/details?id=in.android.vyapar" style="background:#097AA8; border-radius: 5px; color:#ffffff ; padding: 11px 10px 8px 10px; text-decoration: none;" ><b>DOWNLOAD ANDROID</b></a></span>', );
            }) : $('.download-nav').each(function() {
                $('.download-nav').html('<span class="trial-alert">Get 15 days Free trial on Desktop Version<a class="dwnld-desktop-application" href="javascript:;" onclick="dwnldDesktopApplication()" style="background-color: #F3A33A !important; border-radius: 5px; color:white ; padding: 11px 24px 8px 24px; text-decoration: none;margin: 6px 0px 6px 10px;"><b>Download for Desktop</b></a></span>', );
            });
        });
                
        
</script>

<script type="text/javascript" src='https://vyaparwebfiles.vypcdn.in/js/intelTelJS/utils.js'></script>
<script type="text/javascript" src="https://vyaparwebfiles.vypcdn.in/js/intelTelJS/intlTelInput.js"></script>
<script type="text/javascript">
    var formData = "";
    var url = "";
    $.ajaxSetup({
        headers: {
            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
        }
    });
    $(document).ready(function () {
        // setting the country flag code start
        const input_ExistingUser = document.getElementById('mobile');
        window.intlTelInput(input_ExistingUser,{
                        initialCountry: "in",
                        allowDropdown: true,
            separateDialCode: true,
            utilsScript: '/js/intelTelJS/utils.js',
            formatOnDisplay: false,
            preferredCountries: [ "in", "pk", "np" ],
            geoIpLookup: function(callback) {
                $.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
                    var countryCode = (resp && resp.country) ? resp.country : "";
                    callback(countryCode);
                });
            },
        });
        // setting the country flag code end

        //region Verify OTP
        $('#verify-otp').submit(function(e) {
            e.preventDefault();
            $.ajax({
                type: "POST",
                url: $(this).attr('action'),
                data: $(this).serialize(),
                beforeSend: function () {
                    $('.error-block-para').css("display", "none");
                    $('.error-block-para').css("margin-bottom", "0px");
                    $(".error-block-para").html("");
                    $("#spinner").show();
                },
                success: function(response){
                    $("#spinner").hide();
                    $('#success-modal').modal({
                            'dismissible': false,
                            'preventScrolling': true,
                    });
                    $("#success-modal-heading").html('Success');
                    $("#success-modal-description").html(response.message);
                    $("#success-modal-close-anchor-tag").attr('href', response.data);
                    $('#success-modal').modal('open');
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    $("#spinner").hide();
                    if (xhr.status === 400 && xhr.responseJSON.message === 'Something went wrong. Please contact vyapar support team.') {
                        $('#error-modal').modal({
                            'dismissible': false,
                            'preventScrolling': true,
                        });
                        $("#error-modal-heading").html('Error');
                        $("#error-modal-description").html(xhr.responseJSON.message);
                        $("#error-modal-close-anchor-tag").attr('href', '/home');
                        $('#error-modal').modal('open');
                    } else if (xhr.status === 400 && xhr.responseJSON.message.password && 
                        ['The password must be at least 6 characters.', 'The password may not be greater than 20 characters.', 'The password field is required.'].includes(xhr.responseJSON.message.password[0])
                    ) {
                        $('.password-error-block-para').css("display", "block");
                        $('.password-error-block-para').css("margin-bottom", "20px");
                        $(".password-error-block-para").html(xhr.responseJSON.message.password[0]);
                        $('#verify-otp').trigger("reset");
                    } else if (xhr.status === 400 && xhr.responseJSON.message.password && 'The password confirmation does not match.' === xhr.responseJSON.message.password[0]
                    ) {
                        $('.password-confirmation-error-block-para').css("display", "block");
                        $('.password-confirmation-error-block-para').css("margin-bottom", "20px");
                        $(".password-confirmation-error-block-para").html(xhr.responseJSON.message.password[0]);
                        $('#verify-otp').trigger("reset");
                    } else if (xhr.status === 400) {
                        $('.error-block-para').css("display", "block");
                        $('.error-block-para').css("margin-bottom", "20px");
                        $(".error-block-para").html(xhr.responseJSON.message);
                        $("#otp").val(""); // only make the desired input field empty rather than full form
                    } else if (xhr.status === 422 && xhr.responseJSON.message === 'Not able to found password reset request.') {
                        $('#error-modal').modal({
                            'dismissible': false,
                            'preventScrolling': true,
                        });
                        $("#error-modal-heading").html('Error');
                        $("#error-modal-description").html(xhr.responseJSON.message);
                        $("#error-modal-close-anchor-tag").attr('href', '/password/reset');
                        $('#error-modal').modal('open');
                    } else if (xhr.status === 429) {
                        $('.error-block-para').css("display", "block");
                        $('.error-block-para').css("margin-bottom", "20px");
                        $(".error-block-para").html(xhr.responseJSON.message);
                        $('#verify-otp').trigger("reset");
                    } else if (xhr.status === 500) {
                        $('#error-modal').modal({
                            'dismissible': false,
                            'preventScrolling': true,
                        });
                        $("#error-modal-heading").html('Error');
                        $("#error-modal-description").html(xhr.responseJSON.message);
                        $("#error-modal-close-anchor-tag").attr('href', '/home');
                        $('#error-modal').modal('open');
                    }
                }
            });
        });
        //endregion

        $('#otp').on('keyup', function () {
            $('.error-block-para').css("display", "none");
            $('.error-block-para').css("margin-bottom", "0px");
            $(".error-block-para").html("");
        });

        $('#password').on('keyup', function () {
            $('.password-error-block-para').css("display", "none");
            $('.password-error-block-para').css("margin-bottom", "0px");
            $(".password-error-block-para").html("");
        });

        $('#password-confirm').on('keyup', function () {
            $('.password-confirmation-error-block-para').css("display", "none");
            $('.password-confirmation-error-block-para').css("margin-bottom", "0px");
            $(".password-confirmation-error-block-para").html("");
        });

        $('#form').submit(function(e) {
            e.preventDefault();
            const input_ExistingUser = document.getElementById('mobile');
            const iti = window.intlTelInputGlobals.getInstance(input_ExistingUser);
            const countryData = iti.getSelectedCountryData();
            $('#form').find("input[name='country_code']").val(countryData.dialCode);
            formData =  $(this).serialize();
            url = $(this).attr('action');
            sendOTP(url,formData);
        });

        $('#mobile, #email').on('keyup', function () {
            $('.error-block-para-first').css("display", "none");
            $('.error-block-para-first').css("margin-bottom", "0px");
            $('.error-block-para-first').css("margin-top", "0px");
            $(".error-block-para-first").html("");
        });

        $('#resendOTP').click(function () {
            url = "https://vyaparapp.in/password/email";
            //BETTER PICK SESSION FROM BACKEND
            sendOTP(url,$('#form').serialize());
        });

    });

    function sendOTP(URL,FormData)
    {
        const checkedRadioButtonValue = $("input[type='radio'][name='resetVia']:checked").val();
        $("#reset_via").val(checkedRadioButtonValue);
        if (checkedRadioButtonValue === 'mobile') {
            $("#email_phone").val($("#mobile").val());
            $("#calling_code").val($('#form').find("input[name='country_code']").val());
        } else if (checkedRadioButtonValue === 'email') {
            $("#email_phone").val($("#email").val());
            $("#calling_code").val("");
        }
        $.ajax({
            url: URL,
            type: "POST",
            data: FormData,
            beforeSend: function () {
                $('.error-block-para-first').css("display", "none");
                $('.error-block-para-first').css("margin-bottom", "0px");
                $('.error-block-para-first').css("margin-top", "0px");
                $(".error-block-para-first").html("");
                $("#spinner").show();
            },
            success: function(data){
                $('#email-otp-div').hide();
                $('#verify-otp-div').show();
                $('.panel-header').html('Verify Your OTP and Reset Password');
                const html = '<div class="card cyan lighten-5" style="box-shadow: none"><div class="card-content cyan-text darken-1"><p>' +
                    data.message+'</p></div></div>'
                $('#message').show().html(html);
                $("#spinner").hide();
            },
            error: function (xhr, ajaxOptions, thrownError) {
                $("#spinner").hide();
                $('.error-block-para-first').css("display", "block");
                $('.error-block-para-first').css("margin-bottom", "20px");
                $('.error-block-para-first').css("margin-top", "-20px");
                if (xhr.status === 422) {
                    $.each(xhr.responseJSON.message, (key, value) => {
                        $(".error-block-para-first").html(value[0]);
                    });
                } else {
                    $(".error-block-para-first").html(xhr.responseJSON.message);
                }
                $('#form').trigger("reset");
                $("#email-label").click();
                const input_ExistingUser = document.getElementById('mobile');
                const iti = window.intlTelInputGlobals.getInstance(input_ExistingUser);
                iti.setCountry("in");
            }
        });
    }

    function handleRadioClick(myRadio) {

        if(myRadio.value==='email'){

            $('#email-input-div').show();
            $('#email').attr('required',true);
            $('#email').attr('disabled',false);

            $('#mobile').attr('required',false);
            $('#mobile-input-div').hide();

        }
        else{
            $('#mobile-input-div').show();

            $('#email').attr('required',false);
            $('#email').attr('disabled',true);

            $('#mobile').attr('required',true);
            $('#email-input-div').hide();

        }
    }
</script>



<!-- Facebook Pixel Code -->
<script type="text/javascript">


    //get jwt token form logged in user
        const images=document.querySelectorAll("[data-src]");function preloadImage(e){const r=e.getAttribute("data-src");r&&(e.src=r)}const imagesOptions={threshold:0,rootMargin:"0px 0px 200px 0px"},imageObserver=new IntersectionObserver((e,r)=>{e.forEach(e=>{e.isIntersecting&&(preloadImage(e.target),r.unobserve(e.target))})},imagesOptions);images.forEach(e=>{imageObserver.observe(e)});
    let flag = false;
    /* $(document).on('mouseleave', leaveFromTop); */
    $('.skip-trial-button, .skip-trial-button-new, .exit-popup-modal-close').on('click', function() {
        /* $('#exit-popup').modal('close'); */
        flag = true;
    })

    /* function leaveFromTop(e) {
        if ($(window).width() > 1024 && window.location.pathname !== '/home' ) {
            if (e.clientY < 0 && !flag) {
                $('#exit-popup').modal('open');
            }
        }
    } */
</script>
</body>
</html>
